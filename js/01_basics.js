/**
 * ОСНОВЫ JAVASCRIPT
 * =================
 * 
 * Этот файл содержит основные концепции JavaScript, которые необходимы для понимания языка.
 * Здесь вы найдете информацию о переменных, типах данных, операторах, строках и условных конструкциях.
 */

// ===== ПЕРЕМЕННЫЕ И ТИПЫ ДАННЫХ =====

/**
 * В JavaScript существует три способа объявления переменных:
 * - let: для переменных, значение которых может меняться
 * - const: для констант, значение которых не может быть изменено после присваивания
 * - var: устаревший способ (не рекомендуется использовать в современном коде)
 */

// Объявление переменных
let message = "Привет";      // переменная, значение может меняться
const PI = 3.14;             // константа, значение не может быть изменено
var oldWay = "Устаревший способ"; // устаревший способ объявления переменных

// ВАЖНО: Всегда используйте let и const вместо var!
// let и const имеют блочную область видимости, а var - функциональную

/**
 * JavaScript имеет 8 основных типов данных:
 * 1. String (строка)
 * 2. Number (число)
 * 3. BigInt (большое целое число)
 * 4. Boolean (логический тип)
 * 5. Null (специальное значение "ничего")
 * 6. Undefined (значение не присвоено)
 * 7. Object (объект)
 * 8. Symbol (уникальный идентификатор)
 */

// Примеры различных типов данных
let string = "Это строка";              // Строка (String)
let number = 42;                        // Число (Number)
let bigInt = 9007199254740991n;         // BigInt для очень больших чисел
let boolean = true;                     // Логический тип (Boolean): true или false
let nullValue = null;                   // Null - специальное значение "ничего"
let undefinedValue;                     // Undefined - значение не присвоено
let object = { name: "John", age: 30 }; // Объект (Object)
let array = [1, 2, 3];                  // Массив (Array) - особый тип объекта
let func = function() { return "Hi"; }; // Функция - тоже объект

/**
 * Оператор typeof позволяет узнать тип данных переменной
 * ВНИМАНИЕ: typeof null возвращает "object" - это известная ошибка в JavaScript
 */

// Проверка типа
console.log(typeof string);      // "string"
console.log(typeof number);      // "number"
console.log(typeof boolean);     // "boolean"
console.log(typeof nullValue);   // "object" (это ошибка в JavaScript)
console.log(typeof undefinedValue); // "undefined"
console.log(typeof object);      // "object"
console.log(typeof array);       // "object" (массивы - это объекты)
console.log(typeof func);        // "function"

// ===== ОПЕРАТОРЫ =====

/**
 * Арифметические операторы используются для выполнения математических операций
 */

// Арифметические операторы
let sum = 5 + 3;        // 8 (сложение)
let difference = 5 - 3;  // 2 (вычитание)
let product = 5 * 3;     // 15 (умножение)
let quotient = 5 / 3;    // 1.6666... (деление)
let remainder = 5 % 3;   // 2 (остаток от деления)
let power = 5 ** 3;      // 125 (возведение в степень)

/**
 * Операторы сравнения используются для сравнения значений
 * ВАЖНО: == сравнивает с приведением типов, === сравнивает без приведения типов
 * Рекомендуется всегда использовать === для избежания неожиданных результатов
 */

// Операторы сравнения
console.log(5 > 3);      // true (больше)
console.log(5 < 3);      // false (меньше)
console.log(5 >= 5);     // true (больше или равно)
console.log(5 <= 3);     // false (меньше или равно)
console.log(5 == "5");   // true (равно с приведением типов)
console.log(5 === "5");  // false (строго равно, без приведения типов)
console.log(5 != "5");   // false (не равно с приведением типов)
console.log(5 !== "5");  // true (строго не равно)

/**
 * Логические операторы используются для комбинирования логических выражений
 * - && (И): возвращает true, если оба операнда true
 * - || (ИЛИ): возвращает true, если хотя бы один операнд true
 * - ! (НЕ): инвертирует значение операнда
 */

// Логические операторы
console.log(true && false); // false (логическое И)
console.log(true || false); // true (логическое ИЛИ)
console.log(!true);         // false (логическое НЕ)

/**
 * Инкремент (++) и декремент (--) увеличивают или уменьшают значение на 1
 * - Префиксная форма (++i): сначала увеличивает, потом возвращает значение
 * - Постфиксная форма (i++): сначала возвращает значение, потом увеличивает
 */

// Инкремент и декремент
let i = 5;
console.log(i++);  // 5 (постфиксный инкремент: возвращает, потом увеличивает)
console.log(i);    // 6
console.log(++i);  // 7 (префиксный инкремент: увеличивает, потом возвращает)
console.log(i--);  // 7 (постфиксный декремент: возвращает, потом уменьшает)
console.log(i);    // 6
console.log(--i);  // 5 (префиксный декремент: уменьшает, потом возвращает)

// ===== СТРОКИ И ШАБЛОННЫЕ СТРОКИ =====

/**
 * Строки в JavaScript можно создавать с помощью одинарных ('), двойных (") или обратных (`) кавычек
 * Обратные кавычки позволяют создавать шаблонные строки с вставкой переменных и выражений
 */

// Конкатенация строк (старый способ)
let firstName = "John";
let lastName = "Doe";
let fullName = firstName + " " + lastName; // "John Doe"

/**
 * Шаблонные строки (template literals) - современный способ работы со строками
 * Преимущества:
 * - Удобная вставка переменных через ${переменная}
 * - Поддержка многострочных строк
 * - Возможность вставки выражений: ${2 + 2}
 */

// Шаблонные строки (template literals)
let greeting = `Привет, ${firstName} ${lastName}!`; // "Привет, John Doe!"
let calculation = `2 + 2 = ${2 + 2}`; // "2 + 2 = 4"

// Многострочные шаблонные строки
let multiline = `Это первая строка.
Это вторая строка.
А это третья строка.`;

/**
 * Строки имеют множество полезных методов для обработки текста
 */

// Методы строк
let text = "Привет, мир!";
console.log(text.length);            // 12 (длина строки)
console.log(text.toUpperCase());     // "ПРИВЕТ, МИР!" (верхний регистр)
console.log(text.toLowerCase());     // "привет, мир!" (нижний регистр)
console.log(text.indexOf("мир"));    // 8 (позиция подстроки)
console.log(text.includes("мир"));   // true (содержит ли подстроку)
console.log(text.startsWith("Привет")); // true (начинается ли с подстроки)
console.log(text.endsWith("!"));     // true (заканчивается ли подстрокой)
console.log(text.slice(8, 11));      // "мир" (извлечение подстроки)
console.log(text.replace("мир", "JavaScript")); // "Привет, JavaScript!"
console.log(text.split(", "));       // ["Привет", "мир!"] (разбиение на массив)

// ===== УСЛОВНЫЕ КОНСТРУКЦИИ =====

/**
 * Условные конструкции позволяют выполнять разный код в зависимости от условий
 */

// if-else: базовая условная конструкция
let age = 18;
if (age >= 18) {
  console.log("Вы совершеннолетний");
} else {
  console.log("Вы несовершеннолетний");
}

// if-else if-else: для проверки нескольких условий
let score = 85;
if (score >= 90) {
  console.log("Отлично");
} else if (score >= 70) {
  console.log("Хорошо");
} else if (score >= 50) {
  console.log("Удовлетворительно");
} else {
  console.log("Неудовлетворительно");
}

/**
 * Тернарный оператор - сокращенная форма if-else
 * Синтаксис: условие ? выражение1 : выражение2
 * Если условие истинно, возвращается выражение1, иначе - выражение2
 */

// Тернарный оператор
let status = age >= 18 ? "Взрослый" : "Ребенок";
console.log(status); // "Взрослый"

/**
 * switch - удобен, когда нужно сравнить переменную с несколькими значениями
 * ВАЖНО: не забывайте break, иначе выполнение продолжится на следующих case
 */

// switch
let day = 2;
switch (day) {
  case 1:
    console.log("Понедельник");
    break;
  case 2:
    console.log("Вторник");
    break;
  case 3:
    console.log("Среда");
    break;
  default:
    console.log("Другой день");
}

// ===== ПРЕОБРАЗОВАНИЕ ТИПОВ =====

/**
 * JavaScript часто автоматически преобразует типы данных (неявное преобразование)
 * Но иногда нужно явно преобразовать тип данных
 */

// Строковое преобразование
let num = 42;
let str = String(num); // "42"
let str2 = num + "";   // "42" (неявное преобразование)

// Числовое преобразование
let str3 = "42";
let num2 = Number(str3);   // 42
let num3 = +str3;          // 42 (сокращенный синтаксис)
let num4 = parseInt(str3); // 42 (целое число)
let num5 = parseFloat("42.5"); // 42.5 (с плавающей точкой)

/**
 * Логическое преобразование
 * Falsy значения (преобразуются в false):
 * - false
 * - 0, -0, 0n (BigInt)
 * - "" (пустая строка)
 * - null
 * - undefined
 * - NaN
 * 
 * Все остальные значения преобразуются в true
 */

// Логическое преобразование
let bool1 = Boolean(1);     // true
let bool2 = Boolean(0);     // false
let bool3 = Boolean("");    // false
let bool4 = Boolean("text"); // true
let bool5 = Boolean(null);  // false
let bool6 = Boolean(undefined); // false

// Сокращенное логическое преобразование
let bool7 = !!1;  // true
let bool8 = !!0;  // false

/**
 * ПРАКТИЧЕСКИЕ СОВЕТЫ:
 * 
 * 1. Всегда используйте let и const вместо var
 * 2. Используйте === вместо == для сравнения
 * 3. Используйте шаблонные строки вместо конкатенации
 * 4. Будьте осторожны с автоматическим преобразованием типов
 * 5. Используйте явное преобразование типов для ясности кода
 */
